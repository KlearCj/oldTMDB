{"ast":null,"code":"import _slicedToArray from\"/home/klear/ViejaTMDB/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useContext,useState}from\"react\";import{GenreContext}from\"../context/MoviesGenres\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var img=\"https://image.tmdb.org/t/p/w500\";var Movies=function Movies(_ref){var genres=_ref.genres,top=_ref.top;var genreContext=useContext(GenreContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),moviesByGenre=_useState2[0],setMoviesByGenre=_useState2[1];var findSimilar=function findSimilar(id){genreContext.toggleGenre(id);axios.get(\"/api/movie/bygenre/\".concat(id)).then(function(res){setMoviesByGenre(res.data.results);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:genres.map(function(genre){return/*#__PURE__*/_jsx(\"div\",{className:\"btn\",onClick:function onClick(){return findSimilar(genre.id);},children:genre.name},genre.id);})}),genreContext.findGenre?/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid row align-items-center\",children:moviesByGenre.map(function(movies){return/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-3 d-flex container-fluid h-100\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(img).concat(movies.poster_path),className:\"card-img-top\",alt:\"posters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title card-body\",children:movies.title})]},movies.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid row align-items-center\",children:top.map(function(topmovie){return/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-3 d-flex container-fluid \",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(img).concat(topmovie.poster_path),alt:\"posters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:topmovie.title})]},topmovie.id);})})]});};export default Movies;","map":{"version":3,"names":["axios","React","useContext","useState","GenreContext","img","Movies","genres","top","genreContext","moviesByGenre","setMoviesByGenre","findSimilar","id","toggleGenre","get","then","res","data","results","map","genre","name","findGenre","movies","poster_path","title","topmovie"],"sources":["/home/klear/ViejaTMDB/src/pages/Movies.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useContext, useState } from \"react\";\nimport { GenreContext } from \"../context/MoviesGenres\";\nconst img = \"https://image.tmdb.org/t/p/w500\";\n\nconst Movies = ({ genres, top }) => {\n  const genreContext = useContext(GenreContext);\n  const [moviesByGenre, setMoviesByGenre] = useState([])\n\n  const findSimilar = (id) => {\n    genreContext.toggleGenre(id);\n    axios.get(`/api/movie/bygenre/${id}`).then((res) => {\n      setMoviesByGenre(res.data.results);\n    });\n  };\n\n  return (\n    <>\n    <div>\n      {genres.map((genre) => (\n        <div className=\"btn\" onClick={() => findSimilar(genre.id)}  key={genre.id}>\n          {genre.name}\n        </div>\n      ))}\n      </div>\n{genreContext.findGenre ? <div className=\"container-fluid row align-items-center\">\n        {moviesByGenre.map((movies) => (\n          <div\n            key={movies.id}\n            className=\"card col-md-3 d-flex container-fluid h-100\"\n          >\n            <img src={`${img}${movies.poster_path}`} className=\"card-img-top\" alt=\"posters\"/>\n            <p className=\"card-title card-body\">{movies.title}</p>\n          </div>\n        ))}\n      </div> : <div className=\"container-fluid row align-items-center\">\n        {top.map((topmovie) => (\n          <div\n            key={topmovie.id}\n            className=\"card col-md-3 d-flex container-fluid \"\n          >\n            <img src={`${img}${topmovie.poster_path}`} alt=\"posters\"/>\n            <p className=\"card-text\">{topmovie.title}</p>\n          </div>\n        ))}\n      </div> }\n    </>\n  );\n};\n\nexport default Movies;\n"],"mappings":"4IAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,YAAT,KAA6B,yBAA7B,C,6IACA,GAAMC,IAAG,CAAG,iCAAZ,CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAqB,IAAlBC,OAAkB,MAAlBA,MAAkB,CAAVC,GAAU,MAAVA,GAAU,CAClC,GAAMC,aAAY,CAAGP,UAAU,CAACE,YAAD,CAA/B,CACA,cAA0CD,QAAQ,CAAC,EAAD,CAAlD,wCAAOO,aAAP,eAAsBC,gBAAtB,eAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,EAAD,CAAQ,CAC1BJ,YAAY,CAACK,WAAb,CAAyBD,EAAzB,EACAb,KAAK,CAACe,GAAN,8BAAgCF,EAAhC,GAAsCG,IAAtC,CAA2C,SAACC,GAAD,CAAS,CAClDN,gBAAgB,CAACM,GAAG,CAACC,IAAJ,CAASC,OAAV,CAAhB,CACD,CAFD,EAGD,CALD,CAOA,mBACE,wCACA,qBACGZ,MAAM,CAACa,GAAP,CAAW,SAACC,KAAD,qBACV,YAAK,SAAS,CAAC,KAAf,CAAqB,OAAO,CAAE,yBAAMT,YAAW,CAACS,KAAK,CAACR,EAAP,CAAjB,EAA9B,UACGQ,KAAK,CAACC,IADT,EAAiED,KAAK,CAACR,EAAvE,CADU,EAAX,CADH,EADA,CAQHJ,YAAY,CAACc,SAAb,cAAyB,YAAK,SAAS,CAAC,wCAAf,UACjBb,aAAa,CAACU,GAAd,CAAkB,SAACI,MAAD,qBACjB,aAEE,SAAS,CAAC,4CAFZ,wBAIE,YAAK,GAAG,WAAKnB,GAAL,SAAWmB,MAAM,CAACC,WAAlB,CAAR,CAAyC,SAAS,CAAC,cAAnD,CAAkE,GAAG,CAAC,SAAtE,EAJF,cAKE,UAAG,SAAS,CAAC,sBAAb,UAAqCD,MAAM,CAACE,KAA5C,EALF,GACOF,MAAM,CAACX,EADd,CADiB,EAAlB,CADiB,EAAzB,cAUc,YAAK,SAAS,CAAC,wCAAf,UACNL,GAAG,CAACY,GAAJ,CAAQ,SAACO,QAAD,qBACP,aAEE,SAAS,CAAC,uCAFZ,wBAIE,YAAK,GAAG,WAAKtB,GAAL,SAAWsB,QAAQ,CAACF,WAApB,CAAR,CAA2C,GAAG,CAAC,SAA/C,EAJF,cAKE,UAAG,SAAS,CAAC,WAAb,UAA0BE,QAAQ,CAACD,KAAnC,EALF,GACOC,QAAQ,CAACd,EADhB,CADO,EAAR,CADM,EAlBX,GADF,CAgCD,CA3CD,CA6CA,cAAeP,OAAf"},"metadata":{},"sourceType":"module"}