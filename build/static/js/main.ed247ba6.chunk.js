(this.webpackJsonpviejatmdb=this.webpackJsonpviejatmdb||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(23),s=a.n(n),r=a(6),i=a(3),l=a(0),o={email:"",password:"",authenticated:!1,toggleAuth:function(){return null}},j=Object(c.createContext)(o),d=function(e){var t=e.children,a=Object(c.useState)({email:"",password:"",authenticated:!1}),n=Object(i.a)(a,2),s=n[0],o=n[1];return Object(l.jsx)(j.Provider,{value:Object(r.a)(Object(r.a)({},s),{},{toggleAuth:function(e,t){return o({email:e,password:t,authenticated:!s.authenticated})}}),children:t})},b={overview:"",id:null,view:!1,toggleView:function(){return null}},m=Object(c.createContext)(b),u=function(e){var t=e.children,a=Object(c.useState)({overview:"",id:null,view:!1}),n=Object(i.a)(a,2),s=n[0],o=n[1];return Object(l.jsx)(m.Provider,{value:Object(r.a)(Object(r.a)({},s),{},{toggleView:function(e,t){return e!==s.id?o({overview:t,id:e,view:!0}):o({overview:"",id:null,view:!1})}}),children:t})},O={id:null,findGenre:!1,toggleGenre:function(){return null}},p=Object(c.createContext)(O),h=function(e){var t=e.children,a=Object(c.useState)({id:null,findGenre:!1}),n=Object(i.a)(a,2),s=n[0],o=n[1];return Object(l.jsx)(p.Provider,{value:Object(r.a)(Object(r.a)({},s),{},{toggleGenre:function(e){return e!==s.id?o({id:e,findGenre:!0}):o({id:null,findGenre:!1})}}),children:t})},x=a(7),v=a.n(x),g=a(8),f=function(){var e=Object(c.useContext)(j);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:"navbar navbar-expand-lg bg-light",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)(g.b,{to:"/",className:"navbar-brand",children:"UwU Movies"}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(l.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(g.b,{to:"/movies",className:"nav-link",children:"Movies"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(g.b,{to:"/tvshows",className:"nav-link",children:"TvShows"})})]})}),e.authenticated?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(g.b,{to:"/sign",type:"submit",className:"btn",children:"Sign"}),Object(l.jsx)(g.b,{to:"/log",type:"submit",className:"btn",children:"Loging"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{className:"text-dark",children:"ESTAS LOGUEADO PERRO"}),Object(l.jsx)(g.b,{onClick:function(){return e.toggleAuth()},to:"/log",type:"submit",className:"btn",children:"Logout"})]})]})})})},N=function(e){var t=e.searched;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container-fluid row align-items-center",children:t.map((function(e){return Object(l.jsxs)("div",{className:"card col-md-3 d-flex container-fluid",children:[Object(l.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),alt:"movies"}),Object(l.jsx)("p",{className:"card-text",children:e.title})]},e.id)}))})})},w=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],j=r[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsxs)("form",{className:"d-flex",role:"search",children:[Object(l.jsx)("input",{value:a,className:"form-control me-2",type:"search",placeholder:"Search a movie/tvshow",onChange:function(e){e.preventDefault(),n(e.target.value),v.a.get("/api/movie/search?query=".concat(e.target.value)).then((function(e){return j(e.data.results)}))}}),Object(l.jsx)("i",{className:"bi bi-search-heart"})]})}),Object(l.jsx)(N,{searched:o})]})},y=function(e){var t=e.movie;return Object(l.jsxs)("div",{className:"card d-grid",children:[Object(l.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path),className:"card-img-top",alt:"img"}),Object(l.jsxs)("div",{className:"card-text text-center",children:[Object(l.jsx)("p",{children:t.title}),Object(l.jsx)("i",{className:"bi bi-plus-square btn"})]})]})},S=function(e){var t=e.popMovies;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container-fluid row align-items-center",children:t.map((function(e){return Object(l.jsx)("div",{className:"col-md-3 card",children:Object(l.jsx)(y,{movie:e})},e.id)}))})})},C=a(2),F=function(){var e=Object(c.useContext)(j),t=Object(C.f)();return Object(l.jsx)("div",{className:"card container",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(l.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:function(t){return function(t){var a=t.email;e.email=a}({email:t.target.value})}})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(t){return function(t){var a=t.password;e.password=a}({password:t.target.value})}})]}),Object(l.jsx)("button",{onClick:function(a){var c=e.email,n=e.password;a.preventDefault(),e.toggleAuth(c,n),v.a.post("/api/log",e).then((function(){t("/")}))},type:"submit",className:"btn",children:"Submit"})]})})})},E="https://image.tmdb.org/t/p/w500",P=function(e){var t=e.genres,a=e.top,n=Object(c.useContext)(p),s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],j=r[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:t.map((function(e){return Object(l.jsx)("div",{className:"btn",onClick:function(){return t=e.id,n.toggleGenre(t),void v.a.get("/api/movie/bygenre/".concat(t)).then((function(e){j(e.data.results)}));var t},children:e.name},e.id)}))}),n.findGenre?Object(l.jsx)("div",{className:"container-fluid row align-items-center",children:o.map((function(e){return Object(l.jsxs)("div",{className:"card col-md-3 d-flex container-fluid h-100",children:[Object(l.jsx)("img",{src:"".concat(E).concat(e.poster_path),className:"card-img-top",alt:"posters"}),Object(l.jsx)("p",{className:"card-title card-body",children:e.title})]},e.id)}))}):Object(l.jsx)("div",{className:"container-fluid row align-items-center",children:a.map((function(e){return Object(l.jsxs)("div",{className:"card col-md-3 d-flex container-fluid ",children:[Object(l.jsx)("img",{src:"".concat(E).concat(e.poster_path),alt:"posters"}),Object(l.jsx)("p",{className:"card-text",children:e.title})]},e.id)}))})]})},I=function(e){var t=e.poptv;return Object(l.jsx)("div",{className:"container-fluid row align-items-center",children:t.map((function(e){return Object(l.jsxs)("div",{className:"card col-md-3 d-flex container-fluid",children:[Object(l.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),className:"card-img-top",alt:"img"}),Object(l.jsx)("p",{className:"card-text",children:e.title})]},e.id)}))})},G=function(){var e=Object(c.useState)({username:"",email:"",password:""}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(l.jsx)("div",{className:"card container",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v.a.post("/api/sign",a).then((function(){console.log("Ya te registraste")}))},children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Username"}),Object(l.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return n(Object(r.a)(Object(r.a)({},a),{},{username:e.target.value}))},value:a.username})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(l.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:function(e){return n(Object(r.a)(Object(r.a)({},a),{},{email:e.target.value}))},value:a.email}),Object(l.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(e){return n(Object(r.a)(Object(r.a)({},a),{},{password:e.target.value}))},value:a.password})]}),Object(l.jsx)("button",{type:"submit",className:"btn",children:"Submit"})]})})})},k=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],j=r[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),m=b[0],u=b[1],O=Object(c.useState)([]),p=Object(i.a)(O,2),h=p[0],x=p[1];return Object(c.useEffect)((function(){v.a.get("/api/movie/popular").then((function(e){return e.data})).then((function(e){return n(e.results)})),v.a.get("/api/movie/genres").then((function(e){return j(e.data.genres)})),v.a.get("/api/tv/popular").then((function(e){return u(e.data.results)})),v.a.get("/api/movie/top").then((function(e){return x(e.data.results)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f,{}),Object(l.jsx)(w,{}),Object(l.jsxs)(C.c,{children:[Object(l.jsx)(C.a,{path:"/",element:Object(l.jsx)(S,{popMovies:a})}),Object(l.jsx)(C.a,{path:"/sign",element:Object(l.jsx)(G,{})}),Object(l.jsx)(C.a,{path:"/log",element:Object(l.jsx)(F,{})}),Object(l.jsx)(C.a,{path:"/movies",element:Object(l.jsx)(P,{genres:o,top:h})}),Object(l.jsx)(C.a,{path:"/tvshows",element:Object(l.jsx)(I,{poptv:m})})]})]})},A=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(u,{children:Object(l.jsx)(h,{children:Object(l.jsx)(d,{children:Object(l.jsx)(k,{})})})})})};a(53),a(54),a(55);s.a.render(Object(l.jsx)(g.a,{children:Object(l.jsx)(A,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.ed247ba6.chunk.js.map